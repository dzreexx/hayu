<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_master_customer_cashback_tree" model="ir.ui.view">
        <field name="name">view.master.customer.cashback.tree</field>
        <field name="model">master.customer.cashback</field>
        <field name="arch" type="xml">
            <tree string="" default_order='write_date desc'>
                <field name="active" invisible="1"  options='{"terminology": "archive"}'/>
                <field name="group_id"/>
                <field name="cashback_in"/>
                <field name="cashback_used"/>
                <field name="balance"/>
                <field name="activity_ids" widget="list_activity" optional="show" />

                <field name="company_id"/>
                <field name="write_date"/>
                <field name="write_uid" widget="many2one_avatar_user"/>
                <field name="company_id"/>

                <field name="state" decoration-info="state == 'draft'" decoration-muted="state == 'waiting'" decoration-danger="state == 'cancel'" decoration-success="state == 'confirm'" widget="badge"/>

            </tree>
        </field>
    </record>
    <record id="view_master_customer_cashback_form" model="ir.ui.view">
        <field name="name">Master Customer Cashback Form View</field>
        <field name="model">master.customer.cashback</field>
        <field name="arch" type="xml">
            <form string="Master Customer Cashback">
                <header>
                    <button name="action_confirm" states="draft" string="Confirm " type="object"/>
                    <button name="action_draft" states="confirm" string="Reset To Draft " type="object" groups="aos_cashback.group_customer_master_manager"/>
                    <button name="action_cancel" states="draft" string="Cancel" type="object"/>
                    <field name="state" statusbar_visible="draft,confirm" widget="statusbar"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>
                            <field name="active" invisible="1"  options='{"terminology": "archive"}'/>
                            <field name="group_id" readonly="0" attrs="{'readonly': [('state', 'not in', ('draft'))],'invisible': [('cashback_type', '=', 'customer')],'required': [('cashback_type', '=', 'group')]}" options="{'no_create_edit': True,'no_create': True, 'no_quick_create': True}"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field attrs="{'readonly': [('state', 'not in', ('draft'))]}" name="cashback_name"
                                   required="1"/>
<!--                            <field attrs="{'readonly': [('state', 'not in', ('draft'))]}" name="date" required="1"/>-->
                            <field attrs="{'readonly': [('state', 'not in', ('draft'))]}" name="cashback_type"
                                   required="1" invisible="1"/>
                            <field attrs="{'readonly': [('state', 'not in', ('draft'))],'invisible': [('cashback_type', '=', 'group')],'required': [('cashback_type', '=', 'customer')]}"
                                   name="partner_id"/>
                            <!-- <field attrs="{'readonly': [('state', 'not in', ('draft'))]}"
                                    name="account_id"/> -->
                            <field attrs="{'readonly': [('state', 'not in', ('draft'))]}" name="company_id"/>
                        </group>
                        <group>
                            <field name="cashback_in" readonly="1"/>
                            <field name="cashback_used" readonly="1"/>
                            <field name="balance"/>
<!--                            <field name="cashback_deduction_option" readonly="1"/>-->
<!--                            <field name="cashback_pending"/>-->
                            <!-- <field name="journal_id" required="1"
                                   attrs="{'readonly': [('state', 'not in', ('draft'))]}"/> -->
                            <!-- <field attrs="{'readonly': [('state', 'not in', ('draft'))]}"
                                   name="expense_account_id"/> -->
                        </group>

                    </group>
                    <notebook>
                        <page string="Cashback Transaction Summary">
                            <field name="line_ids" readonly="1">
                                <tree create="0" delete="0" edit="0" default_order='create_date desc'>
									<field name="create_date"/>
									<field name="create_uid" widget="many2one_avatar_user"/>
									<field name="name" string="Number"/>
									<field name="partner_id" invisible="1"/>
									<field name="group_id" optional="hide"/>
									<!-- <field name="payment_name"/> -->
									<field name="date"/>
									<!-- <field name="type_id"/> -->
									<field name="cashback_rule"/>
									<field name="reference"/>
									<field name="value"/>
                                    <field name="account_id" optional="hide"/>
									<field name="days"/>
									<field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>
									<field name="state"/>
								</tree>
                            </field>
                        </page>
                        <page name="automatic_cashback" string="Cashback Automatic">
                            <group name="cashback">
                                <field name="automatic_line_ids" readonly="1" nolabel="1" options="{'reload_on_button': True}">
                                    <tree create="false" edit='false' default_order='create_date desc'>
                                        <field name="create_date"/>
									    <field name="create_uid" widget="many2one_avatar_user"/>
                                        <field name="name" string="Number"/>
<!--                                        <field name="date"/>-->

                                        <field name="cashback_rule"/>
                                        <field name="reference"/>
                                        <field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/K"/>
<!--                                        <field name="state"/>-->
<!--                                        <field name="user_id"/>-->
                                        <field name="value"/>
                                        <field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>
                                    </tree>
                                    <form string="Autogenerated Cashback" create="false" edit="false">
                                        <header>
                                            <button class="btn-primary" name="action_approve" states="waiting_for_approval" string="Approve" type="object"/>
                                            <button class="btn-primary" name="action_waiting_for_approval" states="draft" string="Request Approval" type="object"/>
                                            <field name="state" statusbar_visible="draft,waiting_for_approval,approve" widget="statusbar"/>
                                        </header>
                                        <sheet string="Cashback">
                                            <group>
                                                <group>
                                                    <field name="date" required="1"/>
                                                </group>
                                                <group>
                                                    <field name="user_id" readonly="1"/>
                                                    <field name="reference" required="1"/>
                                                </group>
                                            </group>
                                            <group col="2">
                                                <field name="value" required="1"/>
                                            </group>
                                        </sheet>
                                    </form>
                                </field>
                            </group>
                        </page>
                        <page name="manual_lines" string="Cashback Manual">
							<group name="cashback">
								<field name="manual_line_ids" readonly="1" nolabel="1" options="{'reload_on_button': True}">
									<tree editable='bottom' create="false" edit='false' default_order='create_date desc'>
<!--										<field name="date"/>-->
                                        <field name="create_date"/>
									    <field name="create_uid" widget="many2one_avatar_user"/>
                                        <field name="name" string="Number"/>
										<!-- <field name="type_id"/> -->
<!--										<field name="default_posting"/>-->

										<field name="reference"/>
										<field name="state"/>
<!--										<field name="user_id"/>-->
                                        <field name="value"/>
                                        <field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>
<!--                                        <field name="default_posting" string="D/C" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge"/>-->
									</tree>
									
								</field>
							</group>
						</page>
                        <page name="cashback_used" string="Cashback Used">
                            <group name="cashback_used">
                                <field name="cashback_used_id" readonly="1" nolabel="1" options="{'reload_on_button': True}">
                                    <tree editable='bottom' create="false" edit='false' default_order='create_date desc'>
<!--                                        <field name="date"/>-->
                                        <field name="create_date"/>
									    <field name="create_uid" widget="many2one_avatar_user"/>
                                        <field name="name" string="Number"/>
                                        <field name="reference"/>
                                        <field name="account_id"/>
                                        <field name="state"/>
<!--                                        <field name="user_id"/>-->
                                        <field name="value" sum="Total"/>
                                        <field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>
                                    </tree>
                                    <!-- <form string="Autogenerated Cashback" create="false" edit="false">
                                        <header>
                                            <button class="btn-primary" name="action_approve" states="waiting_for_approval" string="Approve" type="object"/>
                                            <button class="btn-primary" name="action_waiting_for_approval" states="draft" string="Request Approval" type="object"/>
                                            <field name="state" statusbar_visible="draft,waiting_for_approval,approve" widget="statusbar"/>
                                        </header>
                                        <sheet string="Cashback">
                                            <group>
                                                <group>
                                                    <field name="date" required="1"/>
                                                </group>
                                                <group>
                                                    <field name="user_id" readonly="1"/>
                                                    <field name="reference" required="1"/>
                                                </group>
                                            </group>
                                            <group col="2">
                                                <field name="value" required="1"/>
                                            </group>
                                        </sheet>
                                    </form> -->
                                </field>
                            </group>
                        </page>
                        <page name="cashback_internal" string="Cashback Internal Category Class">
							<group name="cashback_internal_category">
								<field name="cashback_internal_category_ids" readonly="1" nolabel="1" options="{'reload_on_button': True}">
									<tree editable='bottom' create="false" edit='false' default_order='create_date desc'>
<!--										<field name="date"/>-->
                                        <field name="create_date"/>
									    <field name="create_uid" widget="many2one_avatar_user"/>
                                        <field name="name" string="Number"/>
										<!-- <field name="type_id"/> -->
<!--										<field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>-->
										<field name="reference"/>
<!--                                        <field name="user_id"/>-->
                                        <field name="value"/>
										<field name="state" decoration-info="state == 'draft'" decoration-muted="state == 'waiting'" decoration-danger="state == 'cancel'" decoration-success="state == 'approve'" widget="badge"/>
                                        <field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>

									</tree>
								</field>
							</group>
						</page>
                        <page name="cashback_product_ids" string="Cashback Product Class">
							<group name="cashback_product_ids">
								<field name="cashback_product_ids" readonly="1" nolabel="1" options="{'reload_on_button': True}">
									<tree editable='bottom' create="false" edit='false' default_order='create_date desc'>
<!--										<field name="date"/>-->
                                        <field name="create_date"/>
									    <field name="create_uid" widget="many2one_avatar_user"/>
                                        <field name="name" string="Number"/>
										<!-- <field name="type_id"/> -->
<!--										<field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>-->
										<field name="reference"/>
<!--                                        <field name="user_id"/>-->
                                        <field name="value"/>
										<field name="state" decoration-info="state == 'draft'" decoration-muted="state == 'waiting'" decoration-danger="state == 'cancel'" decoration-success="state == 'approve'" widget="badge"/>
                                        <field name="default_posting" decoration-danger="default_posting == 'credit'" decoration-success="default_posting == 'debit'" widget="badge" string="D/C"/>

									</tree>
								</field>
							</group>
						</page>
                    </notebook>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="activity_ids" widget="mail_activity"/>
                    <field name="message_ids" widget="mail_thread" options="{'post_refresh': 'recipients'}"/>
                </div>


            </form>
        </field>
    </record>



</odoo>