<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
    <record id="view_account_voucher_report_pivot" model="ir.ui.view">
         <field name="name">account.voucher.report.pivot</field>
         <field name="model">account.voucher.report</field>
         <field name="arch" type="xml">
             <pivot string="Vouchers Analysis" sample="1">
                 <field name="product_id" type="col"/>
                 <field name="voucher_date" type="row"/>
                 <field name="price_subtotal" type="measure"/>
             </pivot>
         </field>
    </record>

    <record id="view_account_voucher_report_graph" model="ir.ui.view">
         <field name="name">account.voucher.report.graph</field>
         <field name="model">account.voucher.report</field>
         <field name="arch" type="xml">
             <graph string="Vouchers Analysis" type="line" sample="1">
                 <field name="product_id"/>
                 <field name="price_subtotal" type="measure"/>
             </graph>
         </field>
    </record>

     <record id="account_voucher_report_view_tree" model="ir.ui.view">
         <field name="name">account.voucher.report.view.tree</field>
         <field name="model">account.voucher.report</field>
         <field name="arch" type="xml">
             <tree string="Vouchers Analysis">
                <field name="voucher_date" optional="show"/>
                <field name="account_date" optional="hide"/>
                <field name="number"/>
                <field name="move_id" string="Entry Number"/>
                <field name="payment_journal_id" optional="hide"/>
                <field name="partner_id" optional="show"/>
                <field name="country_id" optional="hide"/>
                <field name="voucher_user_id" optional="hide" widget="many2one_avatar_user"/>
                <field name="product_categ_id" optional="hide"/>
                <field name="product_id" optional="show"/>
                <field name="number_invoice" optional="show"/>
                <field name="number_cheque" optional="show"/>
                <field name="product_name" optional="show"/>
                <field name="company_id"  groups="base.group_multi_company"/>
                <field name="price_average" optional="hide" sum="Total"/>
                <field name="quantity" optional="hide" sum="Total"/>
                <field name="price_subtotal" optional="show" sum="Total"/>
                <field name="state" optional="hide"/>
                <!-- <field name="payment_state" optional="hide"/> -->
                <field name="voucher_type" optional="hide"/>
             </tree>
         </field>
     </record>

    <!-- Custom reports (aka filters) -->
    <!-- <record id="filter_voucher_report_salespersons" model="ir.filters">
        <field name="name">By Salespersons</field>
        <field name="model_id">account.voucher.report</field>
        <field name="domain">[]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{'group_by': ['voucher_date:month', 'voucher_user_id']}</field>
    </record>
    <record id="filter_voucher_product" model="ir.filters">
        <field name="name">By Product</field>
        <field name="model_id">account.voucher.report</field>
        <field name="domain">[]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{'group_by': ['voucher_date:month', 'product_id'], 'set_visible':True, 'residual_invisible':True}</field>
    </record>
    <record id="filter_voucher_product_category" model="ir.filters">
        <field name="name">By Product Category</field>
        <field name="model_id">account.voucher.report</field>
        <field name="domain">[]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{'group_by': ['voucher_date:month', 'product_categ_id'], 'residual_invisible':True}</field>
    </record>
    <record id="filter_voucher_refund" model="ir.filters">
        <field name="name">By Credit Note</field>
        <field name="model_id">account.voucher.report</field>
        <field name="domain">[('move_type', '=', 'out_refund')]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{'group_by': ['voucher_date:month', 'voucher_user_id']}</field>
    </record>
    <record id="filter_voucher_country" model="ir.filters">
        <field name="name">By Country</field>
        <field name="model_id">account.voucher.report</field>
        <field name="domain">[]</field>
        <field name="user_id" eval="False"/>
        <field name="context">{'group_by': ['voucher_date:month', 'country_id']}</field>
    </record> -->

    <record id="view_account_voucher_report_search" model="ir.ui.view">
        <field name="name">account.voucher.report.search</field>
        <field name="model">account.voucher.report</field>
        <field name="arch" type="xml">
            <search string="Vouchers Analysis">
                <filter string="My Vouchers" name="my_voucher" domain="[('voucher_user_id', '=', uid)]"/>
                <separator/>
                <field name="voucher_date"/>
                <separator/>
                <!-- <filter string="To Invoice" name="tovoucher" domain="[('state','=','draft')]" help = "Draft Vouchers"/>
                <filter string="Invoiced" name="current" domain="[('state','not in', ('draft','cancel'))]"/>-->
                <separator/>
                <filter string="Receipt" name="customer" domain="[('voucher_type','=','sale')]"/>
                <filter string="Payments" name="supplier" domain="[('voucher_type','=','purchase')]"/>
                <!--<separator/>
                <filter string="Vouchers" name="voucher" domain="['|', ('move_type','=','out_voucher'),('move_type','=','in_voucher')]"/>
                <filter string="Credit Notes" name="creditnote" domain="['|', ('move_type','=','out_refund'),('move_type','=','in_refund')]"/>
                <separator/> -->
                <filter name="filter_voucher_date" date="voucher_date"/>
                <!-- <filter name="voucher_date_due" date="voucher_date_due"/> -->
                <field name="partner_id" operator="child_of"/>
                <field name="voucher_user_id" />
                <field name="product_id" />
                <field name="product_categ_id" filter_domain="[('product_categ_id', 'child_of', self)]"/>
                <group expand="1" string="Group By">
                    <filter string="Responsible" name='user' context="{'group_by':'voucher_user_id'}"/>
                    <filter string="Partner" name="partner_id" context="{'group_by':'partner_id','residual_visible':True}"/>
                    <filter string="Product Category" name="category_product" context="{'group_by':'product_categ_id','residual_invisible':True}"/>
                    <filter string="Status" name="status" context="{'group_by':'state'}"/>
                    <filter string="Company" name="company" context="{'group_by':'company_id'}" groups="base.group_multi_company"/>
                    <separator orientation="vertical" />
                    <filter string="Date" name="voucher_date" context="{'group_by':'voucher_date'}"/>
                    <!-- <filter string="Due Date" name="duemonth" context="{'group_by':'voucher_date:month'}"/> -->
                </group>
            </search>
        </field>
    </record>

    <!-- <record id="view_account_voucher_report_search_analytic_accounting" model="ir.ui.view">
        <field name="name">account.voucher.report.search_analytic_accounting</field>
        <field name="model">account.voucher.report</field>
        <field name="inherit_id" ref="account.view_account_voucher_report_search"/>
        <field name="groups_id" eval="[(4, ref('analytic.group_analytic_accounting'))]"/>
        <field name="arch" type="xml">
            <filter name="status" position="after">
                <filter string="Analytic Account" name="analytic_account_id" context="{'group_by':'analytic_account_id'}"/>
            </filter>
        </field>
    </record> -->

    <record id="action_account_voucher_report_all_supp" model="ir.actions.act_window">
        <field name="name">Vouchers Analysis</field>
        <field name="res_model">account.voucher.report</field>
        <field name="view_mode">tree,graph,pivot</field>
        <field name="context">{'search_default_current':1, 'search_default_supplier': 1, 'group_by':['voucher_date'], 'group_by_no_leaf':1}</field>
        <field name="search_view_id" ref="view_account_voucher_report_search"/>
        <field name="help">From this report, you can have an overview of the amount voucherd from your vendors. The search tool can also be used to personalise your Vouchers reports and so, match this analysis to your needs.</field>
    </record>

    <record id="action_account_voucher_report_all" model="ir.actions.act_window">
        <field name="name">Vouchers Analysis</field>
        <field name="res_model">account.voucher.report</field>
        <field name="view_mode">tree,graph,pivot</field>
        <field name="context">{'search_default_current':1, 'search_default_customer': 1, 'group_by':['voucher_date'], 'group_by_no_leaf':1}</field>
        <field name="search_view_id" ref="view_account_voucher_report_search"/>
        <field name="help">From this report, you can have an overview of the amount voucherd to your customers. The search tool can also be used to personalise your Vouchers reports and so, match this analysis to your needs.</field>
    </record>

</data>
</odoo>
