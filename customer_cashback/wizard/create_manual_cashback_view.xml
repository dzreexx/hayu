<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="create_cashback_form" model="ir.ui.view">
			<field name="name">Create Cashback</field>
			<field name="model">create.cashback.lines</field>
			<field name="arch" type="xml">
				<form string="Create Cashback">
					<header>
						<field name="state" statusbar_visible="draft,waiting_for_approval,approve" widget="statusbar"/>
					</header>
					<sheet string="Cashback">
						<group>
							<group>
								<field name="date" required="1"/>
								<field name="type_id" required="1" domain="[('manual_cashback', '=', 'true')]"/>
							</group>
							<group>
								<field name="user_id" readonly="1"/>
								<field name="reference" required="1"/>
								<field name="cashback_calculation"/>
							</group>
						</group>
						<group string="Cashback Calculation" attrs="{'invisible': [('cashback_calculation', '=', False)]}">
							<group>
								<field name="start_date" attrs="{'required': [('cashback_calculation', '!=', False)]}"/>
								<field name="real_omset"/>
								<field name="total_omset"/>
								<field name="final_omset"/>
							</group>
							<group>
								<field name="end_date" attrs="{'required': [('cashback_calculation', '!=', False)]}"/>
								<field class="oe_inline" name="cashback"/>%</group>
						</group>
						<group col="2">
							<field name="value"/>
						</group>
						<field mode="tree" name="line_ids" attrs="{'invisible': [('cashback_calculation', '=', False)]}">
							<tree create="false" edit='false' delete='false'>
								<field name="so_date"/>
								<field name="so_id"/>
								<field name="so_value"/>
							</tree>
						</field>
					</sheet>
					<footer>
						<button class="oe_highlight" name="create_manual_cashback" string="Create" type="object"/>
						<button name="cancel" special="cancel" string="Cancel"/>
					</footer>
				</form>
			</field>
		</record>
		<record id="create_cashback" model="ir.actions.act_window">
			<field name="name">Create Cashback</field>
			<field name="res_model">create.cashback.lines</field>
			<field name="view_mode">form</field>
			<field name="context">{'form_view_ref': 'customer_cashback.manual_cashback_form'}</field>
			<field name="target">new</field>
		</record>
	</data>
</odoo>